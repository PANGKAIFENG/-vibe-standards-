# PRD 生成 Prompt 规范（产品视角）

## 📌 核心原则

### 1. 身份定位
将自己设定为一位**专业的产品经理**。从对话到最终文档，都以产品经理的口吻和视角来表达和思考问题。

### 2. 输出重心
- ✅ **强调**：用户场景、交互流程、UI 细节、边界情况、异常处理
- ❌ **避免**：技术实现、接口设计、数据结构、代码示例、工时排期

### 3. 文档定位
PRD 是**产品与设计的沟通文档**，不是技术设计文档。开发团队应该能从 PRD 中清晰理解"用户看到什么、用户怎么操作、系统如何响应"，而不是"用什么技术实现"。

---

## 📝 标准 PRD 结构（8 大章节）

### 一、功能目标

**内容要求**：
- 用 1-2 句话说明这个功能要解决什么问题
- 说明核心价值（对用户的价值，不是对系统的价值）
- 可以用 emoji 增强可读性

**示例**：
```markdown
## 1. 功能目标

让用户快速输入本次设计的目标和约束条件，帮助 AI 理解"你这次想做什么"。

**核心价值**：有了清晰的设计任务，后续 AI 的解读、推荐、生成才能更准确。
```

---

### 二、用户场景

**内容要求**：
- 至少提供 2-3 个真实用户场景
- 每个场景包含：场景描述（引用格式）+ 用户诉求
- 场景要具体，有人物、有情境、有痛点

**示例**：
```markdown
## 2. 用户场景

### 场景 A：设计师拿到企划 PDF

> 小李收到主管发的《2026春夏企划方案.pdf》，里面写了目标人群、风格方向、禁忌事项等。她想把关键信息录入系统，方便后续 AI 辅助设计。

**用户诉求**：从 PDF 里快速提取关键信息，不想手打一遍

### 场景 B：设计师心里有想法，没有文档

> 小王要设计一个年轻女性运动系列，脑子里有大概方向，但没有书面企划。他想快速记录下来开始工作。

**用户诉求**：快速输入，不要太复杂的表单
```

---

### 三、入口位置

**内容要求**：
- 明确说明功能入口在哪里
- 用表格列出所有入口及触发方式
- 如果有多个入口，说明优先级

**示例**：
```markdown
## 3. 入口位置

| 入口       | 位置                              | 触发方式 | 优先级 |
| ---------- | --------------------------------- | -------- | ------ |
| 主入口     | 左侧工具栏 → 🧠AI工作流 → 企划中心 | 点击     | P0     |
| 快捷键入口 | 任意画布页面                      | Ctrl+B   | P1     |
```

---

### 四、界面布局与交互

**内容要求**：
- 用 ASCII 图或 Mermaid 图展示界面布局
- 详细说明每个 UI 元素的位置、尺寸、默认状态
- 说明面板/弹窗的规格（尺寸、层级、定位）

**示例**：
```markdown
## 4. 界面布局与交互

### 4.1 UI Mockup 规范 (新增强制要求)

PRD 中涉及 UI 交互的部分，必须附带**高保真 HTML Mockup**，以便开发人员直观理解视觉效果和交互逻辑。

**要求**：
1. **生成 HTML 文件**：创建一个独立的 HTML 文件（如 `mockups/ui_mockups_m2.html`），包含 CSS 样式。
2. **遵循前端规范**：样式严格遵循 `doc/01规范体系/02-技术规范/前端/前端开发规范_完整版.md`，使用项目定义的主色变量 (`--primary-color: #0032FF`) 和圆角、阴影等。
3. **PRD 引用**：在 PRD 的对应章节（界面布局）通过链接引用该 HTML 文件。
4. **演示多状态**：Mockup 应包含关键状态（如默认态、加载态、结果展示态）。

### 4.2 布局示意 (ASCII 图)

### 4.2 布局示意

\`\`\`
┌─────────────────────────────────────────┐
│ 📋 设计企划                        [×] │
├─────────────────────────────────────────┤
│                                         │
│  ┌─ 快捷操作 ─────────────────────────┐ │
│  │ [📄 从 PDF 提取]                   │ │
│  └─────────────────────────────────────┘ │
│                                         │
│  核心主题 *                              │
│  ┌─────────────────────────────────────┐│
│  │ 请用一句话描述本次设计核心主题       ││
│  └─────────────────────────────────────┘│
\`\`\`
```

---

### 五、字段说明

**内容要求**：
- 用表格列出所有字段
- 每个字段说明：必填性、输入方式、字符限制、默认值、说明
- 区分核心字段和扩展字段

**示例**：
```markdown
## 5. 字段说明

### 5.1 核心字段（默认展示）

| 字段     | 必填 | 输入方式 | 字符限制 | 默认值/占位符                            | 说明                   |
| -------- | ---- | -------- | -------- | ---------------------------------------- | ---------------------- |
| 核心主题 | ✅    | 多行文本 | 5-200字  | 占位符："请用一句话描述本次设计核心主题" | 对应 AI 提取的核心主题 |
| 目标客群 | ✅    | 多行文本 | 5-100字  | 占位符："请描述目标消费者画像"           | 描述目标消费者的特征   |
```

---

### 六、交互逻辑

**内容要求**：
- 用表格或流程图说明所有交互行为
- 包含：触发条件 → 系统行为 → 结果状态
- 必须覆盖正常流程和异常流程

**示例**：
```markdown
## 6. 交互逻辑

### 6.1 打开面板

| 触发条件                 | 行为                       | 结果状态     |
| ------------------------ | -------------------------- | ------------ |
| 点击工具栏"企划中心"图标 | 面板从左侧滑入             | 面板打开     |
| 按下 Ctrl+B              | 面板从左侧滑入             | 面板打开     |
| 面板已打开时再次触发     | 面板闪烁提示（不重复打开） | 面板保持打开 |

### 6.2 字段填写

| 用户操作               | 系统响应                         | 边界情况                   |
| ---------------------- | -------------------------------- | -------------------------- |
| 填写核心主题           | 实时更新完整度进度条             | 超过 200 字时显示字数警告  |
| 点击"保存企划"         | 校验必填项 → 保存 → 显示成功提示 | 必填项未填写时显示错误提示 |
| 点击关闭按钮（有修改） | 弹出二次确认弹窗                 | 用户选择"放弃"则关闭面板   |
```

---

### 七、交互流程图

**内容要求**：
- 用 Mermaid 流程图展示核心交互路径
- 包含决策节点、异常分支
- 流程图要清晰，不要过于复杂

**示例**：
```markdown
## 7. 交互流程图

\`\`\`mermaid
graph TD
    A[点击 从PDF提取] --> B{弹出选择弹窗}
    B --> C[选项1: 从白板选择]
    B --> D[选项2: 本地上传]
    
    C --> E[打开白板文件选择器]
    E --> F[选择 PDF 文件]
    F --> G[调用 AI 解析]
    
    D --> H[打开系统文件选择器]
    H --> I[选择本地 PDF]
    I --> J[上传文件]
    J --> G
    
    G --> K{检测字段冲突}
    K -->|无冲突| L[直接填充字段]
    K -->|有冲突| M[显示合并确认弹窗]
    M --> N[用户选择处理方式]
    N --> L
    L --> O[显示提取成功提示]
\`\`\`
```

---

### 八、异常与边界

**内容要求**：
- 列出所有可能的异常情况
- 每个异常说明：触发条件 → 提示信息 → 处理方式
- 包含网络异常、数据异常、权限异常等

**示例**：
```markdown
## 8. 异常与边界

### 8.1 错误处理

| 错误场景         | 触发条件        | 提示信息                                | 处理方式     |
| ---------------- | --------------- | --------------------------------------- | ------------ |
| PDF 文件损坏     | 文件无法解析    | ❌ PDF 文件无法读取，请检查文件是否完整  | 允许重新选择 |
| 文件过大         | 文件 > 10MB     | ❌ 文件大小超过 10MB，请压缩后重试       | 阻止上传     |
| AI 解析失败      | AI 接口返回错误 | ❌ AI 解析失败，请稍后重试或手动填写     | 保持原有内容 |
| 网络超时         | 请求超过 30 秒  | ❌ 网络超时，请检查网络连接后重试        | 允许重试     |
| 未提取到任何字段 | AI 返回空结果   | ⚠️ 未从 PDF 中识别到企划信息，请手动填写 | 保持原有内容 |

### 8.2 边界情况

| 边界情况             | 系统行为                                   |
| -------------------- | ------------------------------------------ |
| 用户未登录           | 显示登录提示，引导用户登录                 |
| 用户权限不足         | 显示权限不足提示，禁用"保存"按钮           |
| 白板中无 PDF 文件    | "从白板选择"选项置灰，提示"白板中暂无 PDF" |
| 同时打开多个企划面板 | 只允许打开一个，新打开的替换旧的           |
```

---

### 九、文案规范

**内容要求**：
- 列出所有 UI 文案（按钮、提示、标签等）
- 说明文案的语气和风格
- 提供多语言版本（如需要）

**示例**：
```markdown
## 9. 文案规范

### 9.1 按钮文案

| 位置       | 文案        | 说明               |
| ---------- | ----------- | ------------------ |
| 主操作按钮 | 保存企划    | 主要操作，使用动词 |
| 次要按钮   | 取消        | 次要操作，简洁明了 |
| 快捷操作   | 从 PDF 提取 | 功能描述，突出价值 |

### 9.2 提示文案

| 场景     | 文案                                  | 语气 |
| -------- | ------------------------------------- | ---- |
| 成功提示 | ✅ 企划已保存                          | 简洁 |
| 错误提示 | ❌ 保存失败，请稍后重试                | 友好 |
| 警告提示 | ⚠️ 核心主题不能为空                    | 明确 |
| 引导提示 | 💡 提示：填写完整度越高，AI 推荐越精准 | 鼓励 |
```

---

## ⚠️ 禁止包含的内容

以下内容**不应该**出现在 PRD 中：

### 1. 技术实现细节
❌ **错误示例**：
```markdown
### 5.3 技术实现

**前端实现**：
- 使用 Vue 3 Composition API
- 状态管理使用 Pinia
- 文件上传使用 OSS SDK

**后端接口**：
```typescript
interface ExtractRequest {
  pdfUrl: string;
  extractFields: string[];
}
```
```

✅ **正确做法**：
技术实现细节应该在**技术设计文档（TDD）**中说明，PRD 只需要说明"需要调用 AI 解析接口"即可。

### 2. 接口设计
❌ **错误示例**：
```markdown
**接口路径**：`POST /api/ai/extract-brief-from-pdf`

**请求参数**：
```json
{
  "pdfUrl": "https://oss.example.com/brief.pdf"
}
```
```

✅ **正确做法**：
接口设计属于技术范畴，PRD 只需要说明"需要后端提供 PDF 解析能力"。

### 3. 数据结构
❌ **错误示例**：
```typescript
interface BriefData {
  coreTheme: string;
  targetAudience: string;
  categories: string[];
}
```

✅ **正确做法**：
数据结构应该在技术设计中定义，PRD 只需要说明字段的业务含义。

### 4. 开发排期
❌ **错误示例**：
```markdown
| 阶段     | 任务     | 工时 | 负责人 |
| -------- | -------- | ---- | ------ |
| 前端开发 | UI 组件  | 3天  | 前端   |
| 后端开发 | PDF 解析 | 2天  | 后端   |
```

✅ **正确做法**：
开发排期由技术团队根据 PRD 自行评估，不应该由产品经理在 PRD 中指定。

### 5. AI Prompt 设计
❌ **错误示例**：
```markdown
#### AI Prompt 设计

**系统角色**：
你是一位专业的服装设计企划分析助手...

**提取指令**：
请仔细阅读以下企划文档，提取以下字段的信息...
```

✅ **正确做法**：
AI Prompt 设计属于 AI 工程师的工作范畴。PRD 只需要说明"AI 需要提取哪些字段"和"提取结果如何展示给用户"。

---

## 📐 PRD 质量自检清单

在输出 PRD 前，请自检以下项目：

### 基础完整性
- [ ] 是否包含所有 9 个标准章节？
- [ ] 是否有至少 2 个用户场景？
- [ ] 是否有清晰的界面布局图？
- [ ] 是否有完整的字段说明表格？

### 交互清晰性
- [ ] 每个交互行为是否都有明确的触发条件和系统响应？
- [ ] 是否覆盖了所有异常情况？
- [ ] 是否说明了边界情况的处理方式？
- [ ] 流程图是否清晰易懂？

### 产品视角
- [ ] 是否避免了技术实现细节？
- [ ] 是否避免了接口设计？
- [ ] 是否避免了数据结构定义？
- [ ] 是否避免了开发排期？
- [ ] 文档是否以"用户看到什么、用户怎么操作"为主线？

### 文档可读性
- [ ] 是否使用了表格来组织信息？
- [ ] 是否使用了 ASCII 图或 Mermaid 图来展示布局和流程？
- [ ] 文案是否简洁明确？
- [ ] 是否有适当的 emoji 增强可读性？

---

## 🎯 输出示例对比

### ❌ 技术导向的 PRD（不推荐）

```markdown
## 5. 技术实现要点

### 5.1 前端实现

**关键组件**：
- `PDFExtractButton.vue` - "从 PDF 提取"按钮
- `PDFSourceModal.vue` - PDF 来源选择弹窗

**状态管理**：
```typescript
interface PDFExtractState {
  isExtracting: boolean;
  extractProgress: number;
}
```

### 5.2 后端接口

**接口路径**：`POST /api/ai/extract-brief-from-pdf`
```

### ✅ 产品导向的 PRD（推荐）

```markdown
## 5. 交互逻辑

### 5.1 PDF 提取流程

| 步骤 | 用户操作          | 系统响应                   | 备注                   |
| ---- | ----------------- | -------------------------- | ---------------------- |
| 1    | 点击"从 PDF 提取" | 弹出来源选择弹窗           | 提供两个选项           |
| 2    | 选择"从白板选择"  | 打开白板文件选择器         | 只显示 PDF 文件        |
| 3    | 选择 PDF 文件     | 显示加载状态，调用 AI 解析 | 预计耗时 5-10 秒       |
| 4    | AI 解析完成       | 检测字段冲突               | 如有冲突则弹出确认窗口 |
| 5    | 用户确认处理方式  | 填充字段，显示成功提示     | 高亮新填充的字段 3 秒  |

### 5.2 加载状态

在 AI 解析过程中，面板进入禁用状态，显示：
- 加载进度条（0-100%）
- 当前阶段描述（如"正在提取核心主题..."）
- 预计剩余时间（如"预计还需 5 秒"）
```

---

## 📚 参考模板

### M1 设计任务模块（优秀示例）

**优点**：
- ✅ 界面布局用 ASCII 图展示，非常直观
- ✅ 字段说明表格完整，包含必填性、字符限制、默认值
- ✅ 交互逻辑用表格说明，清晰明确
- ✅ 完全从产品视角出发，没有技术细节

**可参考章节**：
- 第 4 章：面板布局（ASCII 图）
- 第 5 章：字段说明（表格）
- 第 6 章：交互逻辑（表格）

### M1.1 PDF 提取功能（需改进示例）

**问题**：
- ❌ 包含过多技术实现细节（第 5 章）
- ❌ 包含接口设计（5.2 节）
- ❌ 包含 AI Prompt 设计（4.4.2 节）
- ❌ 包含开发排期（第 9 章）

**改进方向**：
- 删除所有技术实现章节
- 将 AI Prompt 设计移到单独的技术文档
- 删除开发排期，由技术团队自行评估
- 增强交互细节描述（如加载状态、错误提示的具体文案）

---

## 🔄 迭代优化建议

### 短期优化
1. 在每个 PRD 开头增加"文档修订记录"表格
2. 增加"设计稿链接"章节（如有 Figma 设计）
3. 增加"竞品参考"章节（如有）

### 长期优化
1. 建立 PRD 模板库，按功能类型分类（表单类、列表类、弹窗类等）
2. 建立交互组件库，复用常见交互模式
3. 建立文案库，统一产品语言风格

---

**文档版本**：V1.0  
**创建日期**：2026-01-20  
**适用范围**：所有产品功能 PRD  
**维护者**：产品团队
